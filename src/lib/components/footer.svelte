<script lang="ts">
	import { page } from "$app/stores";
	import type { User } from "$lib/models";
	import { t } from "$lib/translations/config";
	import { getUserPrivilege } from "$lib/utils";

	export let user: User | undefined;
	const email_address = "i@phi.zone";
</script>

{#if !($page.url.pathname.startsWith("/studio") && $page.status < 400 && user && getUserPrivilege(user.type) >= 2)}
	<footer
		class="footer pt-[23px] pb-3 px-10 border-t bg-base-200 border-base-300 text-base"
	>
		<!-- <div>
		<span class="footer-title text-lg"
			>{$t("common.footer.internal_links")}</span
		>
		<a href="/" class="link link-hover">{$t("common.footer.home")}</a>
		<a href="/about" class="link link-hover">{$t("common.footer.about")}</a>
		<a href="/feedback" class="link link-hover"
			>{$t("common.footer.feedback")}</a
		>
	</div>
	<div>
		<span class="footer-title text-lg">{$t("common.footer.legal")}</span>
		<a href="/legal/terms-of-use" class="link link-hover"
			>{$t("common.footer.terms_of_use")}</a
		>
		<a href="/legal/privacy-policy" class="link link-hover"
			>{$t("common.footer.privacy_policy")}</a
		>
		<a href="/legal/cookie-policy" class="link link-hover"
			>{$t("common.footer.cookie_policy")}</a
		>
	</div> -->
		<div>
			<span class="footer-title text-lg"
				>{$t("common.footer.external_links")}</span
			>
			<a
				href="https://www.pigeongames.cn/"
				target="_blank"
				rel="noreferrer"
				class="link link-hover">{$t("common.footer.pigeon_games")}</a
			>
			<!-- <a
				href="https://www.phigrim.cn/"
				target="_blank"
				rel="noreferrer"
				class="link link-hover">{$t("common.footer.phigrim")}</a
			> -->
			<!-- <a href="/" class="link link-hover">{$t("common.footer.phifans")}</a> -->
		</div>
		<div>
			<span class="footer-title text-lg">{$t("common.footer.contact")}</span>
			<div class="flex">
				<svg
					xmlns="http://www.w3.org/2000/svg"
					height="24px"
					viewBox="0 0 24 24"
					width="24px"
					class="fill-current"
					><path d="M0 0h24v24H0V0z" fill="none" /><path
						d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-.4 4.25l-7.07 4.42c-.32.2-.74.2-1.06 0L4.4 8.25c-.25-.16-.4-.43-.4-.72 0-.67.73-1.07 1.3-.72L12 11l6.7-4.19c.57-.35 1.3.05 1.3.72 0 .29-.15.56-.4.72z"
					/></svg
				>
				<a
					
					class="ml-2 link link-hover"
					href="mailto:{email_address}">{email_address}</a
				>
			</div>
		</div>
	</footer>
	<footer class="footer px-10 py-5 text-base bg-base-200">
		<div class="items-center grid-flow-col">
			<p class="copyright text-base">{$t("common.footer.copyright")}</p>
		</div>
		<div class="md:place-self-center md:justify-self-end">
			<div class="grid grid-flow-col gap-4">
				<a
					href="https://space.bilibili.com/325599863"
					target="_blank"
					rel="noreferrer"
					><svg
						xmlns="http://www.w3.org/2000/svg"
						xmlns:xlink="http://www.w3.org/1999/xlink"
						width="38"
						height="18"
						xml:space="preserve"
						class="fill-current"
						><defs
							><clipPath id="clip0"
								><rect x="667" y="351" width="38" height="18" /></clipPath
							></defs
						><g clip-path="url(#clip0)" transform="translate(-667 -351)"
							><path
								d="M35.2849 15.5141C35.1152 15.5141 34.9626 15.5141 34.8267 15.4971 34.5382 15.4802 34.2498 15.4632 33.9613 15.4632 33.7747 15.4632 33.7747 15.4632 33.7577 15.2766L33.4861 12.1881 33.2147 9.62572 33.0281 8.04758 32.8583 6.6731 32.5528 4.53492C32.451 3.7714 32.3323 3.02473 32.1796 2.26103 32.1625 2.14235 32.1625 2.12532 32.2984 2.10829 32.8244 2.00647 33.3674 1.95555 33.9104 1.95555L34.0971 1.95555C34.1819 1.97258 34.2328 2.02349 34.2498 2.12532L34.3177 3.29615 34.7928 9.62572 35.0304 12.5274 35.1831 14.1905 35.2849 15.5141 35.2849 15.5141ZM14.4805 1.95555 14.786 1.95555C14.9388 1.95555 14.9726 2.00647 14.9726 2.15921L15.1085 4.21259 15.414 8.47174 15.6006 10.6947 15.7363 12.4087 16.0079 15.3614C16.0079 15.4971 15.9909 15.5141 15.8552 15.5141L14.6333 15.4632C14.5485 15.4802 14.4976 15.4293 14.4976 15.3443L14.4467 14.7504C14.3957 14.2414 14.3448 13.7323 14.3109 13.2063L14.0394 10.5251 13.7509 8.0985 13.5473 6.38465 13.3267 4.82337C13.2249 4.12762 13.1061 3.41501 12.9874 2.71925L12.9024 2.24418C12.8856 2.15921 12.9024 2.12532 12.9874 2.10829 13.4625 2.02349 13.9207 1.9387 14.4805 1.95555L14.4805 1.95555 14.4805 1.95555ZM31.5518 8.79425C31.9759 8.79425 32.0268 8.81128 32.0948 9.21841 32.1796 9.72755 32.2475 10.2367 32.2984 10.7456L32.485 12.3917 32.8414 15.8873C32.8583 15.9723 32.8414 16.0062 32.7565 16.0062L31.4329 16.1589C31.2972 16.1758 31.2631 16.1589 31.2463 16.0232L30.4826 12.1203 30.0075 9.52389 29.9396 9.1675C29.9227 9.09973 29.9566 9.04882 30.0245 9.03179 30.5505 8.91311 31.0596 8.82814 31.5518 8.79425L31.5518 8.79425 31.5518 8.79425ZM12.2576 8.79425C12.7158 8.77722 12.7667 8.82814 12.8176 9.25247 12.9365 9.94823 13.0213 10.627 13.0892 11.3227L13.3097 13.3589 13.4454 14.7335 13.5643 15.8364C13.5643 15.9892 13.5473 16.0232 13.4115 16.0401L12.1559 16.1589C12.02 16.1758 11.9861 16.1589 11.9691 16.0232L10.934 10.6947 10.6626 9.18453C10.6455 9.09973 10.6794 9.04882 10.7644 9.03179 11.2904 8.91311 11.7825 8.82814 12.2576 8.79425L12.2576 8.79425 12.2576 8.79425ZM18.7399 14.0546 18.7399 16.1589 18.7399 16.2267C18.7569 16.3285 18.706 16.3794 18.6042 16.3626L18.1969 16.3626C17.9084 16.3626 17.62 16.3794 17.3315 16.3965 17.1788 16.4135 17.1617 16.4135 17.1447 16.2267L16.8733 13.1723 16.7376 11.6621 16.5339 9.3543C16.5169 9.1675 16.551 9.13362 16.7035 9.11659 17.1788 9.06567 17.6538 9.06567 18.1291 9.0827L18.4853 9.13362C18.6212 9.18453 18.638 9.20156 18.638 9.33727L18.689 10.2535 18.706 11.2718C18.723 12.2051 18.7399 13.1214 18.7399 14.0546L18.7399 14.0546 18.7399 14.0546ZM38 14.1565 38 16.1419 38 16.2437C38 16.3285 37.9661 16.3794 37.8811 16.3626L37.2704 16.3626C37.0328 16.3626 36.7951 16.3794 36.5746 16.3965 36.4389 16.4135 36.4219 16.3965 36.4048 16.2437L36.0486 12.2729 35.8618 10.3044 35.794 9.30338C35.777 9.1675 35.8109 9.13362 35.9468 9.13362 36.5067 9.06567 37.0837 9.04882 37.6436 9.11659 37.8643 9.13362 37.8982 9.20156 37.9152 9.42207L37.9661 11.6789 38 14.1565 38 14.1565ZM31.0596 5.17976C31.2292 5.17976 31.382 5.19679 31.5008 5.21365 31.5856 5.23068 31.6195 5.26456 31.6365 5.34953L31.8571 7.70822C31.908 7.91187 31.8741 7.94576 31.6704 7.94576L31.0935 7.97964C30.9747 7.99667 30.9238 8.0137 30.9238 7.82708L30.6862 5.9094 30.6185 5.36639C30.6014 5.26456 30.6353 5.21365 30.7371 5.19679L31.0596 5.17976 31.0596 5.17976ZM11.8334 5.17976C11.9691 5.17976 12.105 5.19679 12.2237 5.21365 12.2916 5.23068 12.3255 5.26456 12.3425 5.34953L12.4103 5.94346 12.5801 7.79302C12.5971 7.92873 12.5971 7.94576 12.4612 7.94576L11.7995 7.97964C11.6638 7.99667 11.6468 7.97964 11.6298 7.84393L11.477 6.48648 11.3413 5.34953C11.3243 5.26456 11.3583 5.21365 11.4431 5.21365 11.562 5.19679 11.6977 5.17976 11.8334 5.17976L11.8334 5.17976 11.8334 5.17976ZM18.6042 6.87675 18.6042 8.04758C18.6212 8.23421 18.5871 8.23421 18.4344 8.23421 18.2139 8.23421 18.0102 8.21735 17.8066 8.20032 17.6709 8.18329 17.6538 8.18329 17.6709 8.04758L17.62 6.60516C17.62 6.28283 17.62 5.96032 17.6029 5.63798 17.5861 5.48524 17.6029 5.46821 17.7557 5.46821 17.9932 5.46821 18.2307 5.48524 18.4685 5.51913 18.6042 5.51913 18.6042 5.55319 18.6042 5.6889L18.6042 6.87675 18.6042 6.87675ZM37.8811 6.89361 37.8811 8.06461C37.8811 8.21735 37.8643 8.23421 37.7115 8.23421L37.0667 8.20032C36.9649 8.18329 36.914 8.13238 36.931 8.04758L36.8801 5.62095C36.8801 5.48524 36.8969 5.46821 37.0328 5.46821 37.2533 5.46821 37.457 5.48524 37.6606 5.50227 37.9152 5.51913 37.8811 5.57004 37.8811 5.75666L37.8811 6.89361 37.8811 6.89361ZM11.3074 7.81005C11.3243 8.0137 11.3074 8.04758 11.1038 8.06461L10.6965 8.16644C10.5607 8.21735 10.5437 8.18329 10.5269 8.06461L10.1025 5.67187C10.0516 5.51913 10.0855 5.48524 10.2382 5.46821L10.8322 5.36639C10.9681 5.34953 11.0019 5.34953 11.0019 5.48524 11.0529 5.77369 11.1038 6.06214 11.1376 6.35059L11.3074 7.70822 11.3074 7.81005 11.3074 7.81005ZM29.3627 5.48524C29.6172 5.43433 29.8886 5.40045 30.1602 5.36639 30.245 5.34953 30.2789 5.40045 30.2959 5.48524L30.4317 6.41854C30.4996 6.87675 30.5505 7.3348 30.5675 7.79302L30.5675 7.92873C30.5844 7.99667 30.5505 8.04758 30.4826 8.06461L29.9396 8.18329C29.8548 8.20032 29.8209 8.16644 29.8038 8.08147L29.3627 5.55319 29.3627 5.48524 29.3627 5.48524ZM17.3145 7.31794C17.3145 7.58937 17.2974 7.84393 17.2806 8.08147 17.2806 8.16644 17.2465 8.20032 17.1617 8.21735L16.6358 8.26827C16.551 8.28512 16.5169 8.23421 16.5169 8.14941 16.483 7.89484 16.466 7.65731 16.4491 7.40274 16.4151 6.94452 16.3812 6.46945 16.3642 5.99438L16.3303 5.65501C16.3132 5.58707 16.3473 5.55319 16.4151 5.55319L17.1108 5.50227C17.2297 5.50227 17.2636 5.51913 17.2636 5.65501L17.3145 7.31794 17.3145 7.31794ZM36.5576 7.04635C36.5746 7.36886 36.5746 7.70822 36.5576 8.03055 36.5746 8.18329 36.5407 8.21735 36.388 8.21735L35.9127 8.26827C35.8279 8.28512 35.777 8.23421 35.777 8.14941 35.76 7.72525 35.7261 7.28406 35.6922 6.85973L35.6243 5.67187C35.6073 5.58707 35.6413 5.55319 35.7091 5.55319L36.388 5.50227C36.5067 5.50227 36.5237 5.51913 36.5237 5.65501 36.5576 6.11306 36.5746 6.5883 36.5576 7.04635L36.5576 7.04635 36.5576 7.04635ZM10.6455 12.8329C10.9171 13.1554 10.9681 13.5116 10.8492 13.9019 10.7474 14.2753 10.5607 14.5977 10.2892 14.8693 9.84796 15.3275 9.33901 15.7007 8.77896 15.9892 7.81178 16.4983 6.81055 16.8547 5.74137 17.0413 4.97785 17.1941 4.21415 17.2959 3.45063 17.3468 3.21309 17.3637 2.97555 17.3637 2.73784 17.3637L2.22889 17.3637C2.093 17.3637 2.05912 17.3298 2.04209 17.1941L1.92341 15.548 1.6009 12.3069 1.24468 9.21841 1.04103 7.57251 0.820345 5.99438C0.701664 5.12885 0.548924 4.2635 0.396184 3.39798 0.277329 2.70222 0.158648 2.00647 0.00590801 1.31088-0.011121 1.22591 0.00590801 1.15814 0.0907054 1.14112L2.44939 0.15691C2.60213 0.0889677 2.73784 0.0380546 2.89058 0.00417036 2.99241-0.0128586 3.04332 0.0211993 3.02629 0.123026 3.02629 0.394447 3.02629 0.666042 3.00944 0.954492L2.99241 1.175C2.97555 2.15921 2.97555 3.14341 2.99241 4.14465 3.00944 5.01017 3.06035 5.89255 3.11126 6.7579 3.19606 8.11553 3.33177 9.47298 3.46766 10.8136 3.46766 10.9493 3.48451 10.9493 3.63725 10.9324 3.9257 10.8815 4.1973 10.8645 4.48575 10.8645 5.38516 10.8645 6.28439 10.9663 7.14991 11.1868 7.91344 11.3736 8.64325 11.6282 9.37289 11.9505 9.72928 12.1203 10.0516 12.3238 10.3571 12.5615 10.476 12.6463 10.5607 12.7311 10.6455 12.8329L10.6455 12.8329 10.6455 12.8329ZM29.77 12.6802C30.1264 12.9686 30.245 13.3589 30.1432 13.8171 30.0584 14.1905 29.8886 14.5129 29.6341 14.8013 29.2269 15.2595 28.7517 15.6159 28.2257 15.9044 27.2076 16.4644 26.1216 16.8547 24.9676 17.0583 24.3398 17.177 23.7118 17.2789 23.084 17.3298 22.7276 17.3637 22.3373 17.3807 21.9471 17.3637L21.4888 17.3637C21.3872 17.3807 21.3363 17.3298 21.3363 17.2279 21.3022 16.7529 21.2683 16.2776 21.2174 15.8025L20.9458 12.9008 20.6574 10.3724 20.3012 7.5216C20.2502 7.02949 20.1823 6.52036 20.0975 6.02826L19.792 4.12762C19.6563 3.22838 19.4865 2.32897 19.2999 1.42957L19.2829 1.31088C19.249 1.22591 19.2829 1.15814 19.3677 1.14112 20.1993 0.801752 21.0138 0.428331 21.8452 0.105997 22.0659 0.0211993 22.3373-0.080627 22.3205 0.123026 22.2525 0.750839 22.2696 1.37865 22.2525 1.98961 22.2355 2.49857 22.2355 3.0077 22.2696 3.4998L22.2696 3.89008C22.2696 4.50104 22.2864 5.112 22.3373 5.70575 22.3714 6.50333 22.4223 7.31794 22.4901 8.11553L22.6428 9.82937C22.6598 10.1517 22.6937 10.4572 22.7446 10.7797 22.7446 10.9663 22.7785 10.9493 22.9313 10.9324 23.2367 10.8815 23.5422 10.8645 23.8477 10.8645 24.9167 10.8815 25.9518 11.0511 26.9699 11.3396 27.6657 11.5264 28.3275 11.7808 28.9724 12.1203 29.2608 12.2729 29.5154 12.4597 29.77 12.6802L29.77 12.6802 29.77 12.6802ZM5.23242 15.6668C5.48698 15.5141 5.92817 15.2086 6.53896 14.7335 7.14991 14.2414 7.52316 13.9189 7.6759 13.7493 6.75964 13.342 5.80932 12.9856 4.82511 12.6633L5.23242 15.6668 5.23242 15.6668ZM26.9021 13.8341C26.9531 13.7832 26.936 13.7493 26.8851 13.7153L26.4778 13.5457C25.7652 13.2402 25.0524 12.9686 24.3228 12.7311L24.2209 12.6972C24.1871 12.6802 24.1532 12.6972 24.1023 12.7142L24.5094 15.6498C24.5603 15.6498 24.5944 15.6328 24.6112 15.6159 25.2731 15.1407 25.9348 14.6486 26.5967 14.1226L26.9021 13.8341 26.9021 13.8341Z"
								transform="matrix(1 0 0 1.03595 667 351.003)"
							/></g
						></svg
					></a
				>
				<!-- <a href="/"
				><svg
					xmlns="http://www.w3.org/2000/svg"
					width="24"
					height="24"
					viewBox="0 0 24 24"
					class="fill-current"
					><path
						d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"
					/></svg
				></a
			>
			<a href="/"
				><svg
					xmlns="http://www.w3.org/2000/svg"
					width="24"
					height="24"
					viewBox="0 0 24 24"
					class="fill-current"
					><path
						d="M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"
					/></svg
				></a
			> -->
			</div>
		</div>
	</footer>
{/if}

<style>
	* {
		font-family: "Saira", "Noto Sans SC", sans-serif;
	}

	footer {
		padding-left: 3%;
		padding-right: 3%;
	}

	a {
		font-size: 16px;
	}
</style>
